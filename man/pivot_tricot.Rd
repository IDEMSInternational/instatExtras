% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pivot_tricot.R
\name{pivot_tricot}
\alias{pivot_tricot}
\title{Pivot Tricot Data}
\usage{
pivot_tricot(
  data = NULL,
  data_id_col = "id",
  data_trait_cols = NULL,
  carry_cols = NULL,
  data_plot_trait = NULL,
  data_plot_trait_id_col = "id",
  variety_col = NULL,
  trait_col = NULL,
  rank_col = NULL,
  option_cols = c("option_a", "option_b", "option_c"),
  possible_ranks = c("A", "B", "C"),
  trait_good = "_pos",
  trait_bad = "_neg",
  na_value = "Not observed"
)
}
\arguments{
\item{data}{A data frame containing ID-level Tricot data.  Must include an ID column
(data_id_col) and three option columns (option_cols), plus trait indicator
columns ending in trait_good or trait_bad, unless data_plot_trait is provided.}

\item{data_id_col}{Character string naming the ID column in data.  Default is "id".}

\item{data_trait_cols}{Optional character vector of specific trait-indicator columns
in data to restrict scanning (overrides automatic selection by suffix).  Default NULL.}

\item{carry_cols}{Optional character vector of column names in data to carry along
into the output (e.g. blocking factors, metadata).  Default NULL.}

\item{data_plot_trait}{A data frame in “plot–trait” format containing one row per
(ID, variety, trait) with an associated rank_col.  Default NULL.}

\item{data_plot_trait_id_col}{Character string naming the ID column in
data_plot_trait.  Default is "id".}

\item{variety_col}{Character string naming the variety column in data_plot_trait.}

\item{trait_col}{Character string naming the trait column in data_plot_trait.}

\item{rank_col}{Character string naming the rank column in data_plot_trait.}

\item{option_cols}{Character vector of length three naming the option columns in
data (e.g. c("option_a", "option_b", "option_c")).  Default is
c("option_a", "option_b", "option_c").}

\item{possible_ranks}{Character vector of labels corresponding to option_cols
(e.g. c("A", "B", "C")).  Default is c("A", "B", "C").}

\item{trait_good}{Suffix (or full name) identifying columns in data where a
variety is positively ranked for a trait (e.g. "_pos" or "best").  Default "_pos".}

\item{trait_bad}{Suffix (or full name) identifying columns in data where a
variety is negatively ranked for a trait (e.g. "_neg" or "worst").  Default "_neg".}

\item{na_value}{Value used in data to indicate a missing or unobserved trait.
Default is "Not observed".}
}
\value{
A tibble in tidy format with one row per (ID, trait, variety) combination,
containing at least the following columns:
\describe{
\item{<data_id_col>}{Identifier for each trial or plot (column name retained).}
\item{dummy_variety}{Factor-coded option label corresponding to the variety (e.g. "A", "B", "C").}
\item{trait}{Name of the trait being ranked (when data input used).}
\item{rank}{Numeric or character rank assigned to the variety.}
\item{variety}{Name of the variety or option.}
\item{<carry_cols>}{Any additional columns specified via carry_cols, carried through from data.}
}
Additional trait-specific columns will appear if both data and
data_plot_trait are provided.
}
\description{
Transforms Tricot (Triadic Comparison of Technologies) data into a tidy format,
assigning ranks to varieties based on trait evaluations.  Supports input either
as a single ID-level dataset (data) with option columns and trait indicators,
or as a plot–trait–level dataset (data_plot_trait) with explicit variety,
trait, and rank columns, or both.
}
